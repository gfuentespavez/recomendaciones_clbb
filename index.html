<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <title>Recomiendo Concepci√≥n - City Lab Biob√≠o</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- Mapbox -->
  <link href="https://api.mapbox.com/mapbox-gl-js/v3.8.0/mapbox-gl.css" rel="stylesheet" />
  <script src="https://api.mapbox.com/mapbox-gl-js/v3.8.0/mapbox-gl.js"></script>

  <!-- Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

  <!-- PapaParse -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.4.1/papaparse.min.js"></script>

  <!-- Custom Styles -->

  <!-- Google Maps Places -->
  <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCwNsIode9P9Aa1ZPhkMtN9n1DGVwSsDZg&libraries=places"></script>

  <style>
    /* Fullscreen Offcanvas */
    .offcanvas-fullscreen {
      width: 100vw !important;
      height: 100vh !important;
      max-width: none;
      border-right: none;
    }

    /* Fullscreen Modal */
    .modal.fullscreen .modal-dialog {
      width: 100vw;
      height: 100vh;
      margin: 0;
      max-width: none;
    }

    .modal.fullscreen .modal-content {
      height: 100%;
      border-radius: 0;
    }
  </style>
  <base href="/recomendaciones_clbb/">
  <script type="module" crossorigin src="/recomendaciones_clbb/assets/index-W_L5WxZC.js"></script>
  <link rel="stylesheet" crossorigin href="/recomendaciones_clbb/assets/index-BS34Wkhg.css">
</head>

<body>
<!-- Map Container -->
  <div id="map"></div>

  <!-- FAB para abrir el men√∫ -->
  <div id="main-fab-menu" style="position: fixed; top: 1rem; left: 1rem; z-index: 2100;">
    <button class="btn btn-light shadow rounded-circle p-2" type="button" data-bs-toggle="offcanvas" data-bs-target="#menuOffcanvas" title="Men√∫">
      ‚ò∞
    </button>
  </div>

  <!-- Offcanvas fullscreen -->
  <div class="offcanvas offcanvas-start offcanvas-fullscreen" tabindex="-1" id="menuOffcanvas" aria-labelledby="menuOffcanvasLabel">
    <div class="offcanvas-header">
      <h5 class="offcanvas-title" id="menuOffcanvasLabel">
        <img src="assets/png/clbb.png" alt="Logo" style="height: 40px;" />
      </h5>
      <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Cerrar"></button>
    </div>
    <div class="offcanvas-body d-flex flex-column gap-3">
      <button class="btn btn-warning w-100" id="openModalBtn" data-bs-toggle="modal" data-bs-target="#submitModal">Agregar lugar</button>
      <div id="category-buttons" class="d-flex flex-wrap gap-2">
        <button class="btn tag-btn category-btn" data-category="Comida">Comida</button>
        <button class="btn tag-btn category-btn" data-category="Bar">Bar</button>
        <button class="btn tag-btn category-btn" data-category="Cafeter√≠as">Cafeter√≠a</button>
        <button class="btn tag-btn category-btn" data-category="Cultura">Cultura</button>
        <button class="btn tag-btn category-btn" data-category="Tiendas">Tienda local</button>
        <button class="btn tag-btn category-btn" data-category="Panoramas">Panoramas</button>
        <button class="btn tag-btn category-btn" data-category="M√∫sica">M√∫sica en vivo</button>
        <button class="btn tag-btn category-btn" data-category="Mirador">Mirador</button>
        <button class="btn tag-btn category-btn" data-category="Datos">Dato oculto</button>
      </div>
      <button id="resetFiltersBtn" class="btn btn-secondary w-100 mb-3">Resetear filtros</button>
    </div>
  </div>

  <!-- Modal fullscreen -->
  <div class="modal fade fullscreen" id="submitModal" tabindex="-1" aria-labelledby="submitModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
      <form id="submitForm" class="modal-content" novalidate>
        <div class="modal-header">
          <h5 class="modal-title" id="submitModalLabel">Cu√©ntanos, ¬øcu√°l es tu lugar favorito en Conce?</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cerrar"></button>
        </div>
        <div class="modal-body">
          <div class="mb-3">
            <label for="lugar" class="form-label">Recomiendo...</label>
            <input type="text" class="form-control" id="lugar" name="lugar" required placeholder="Escribe el nombre del lugar">
          </div>
          <div class="mb-3">
            <label for="comuna" class="form-label">Comuna</label>
            <select class="form-select" id="comuna" name="comuna" required>
              <option value="" disabled selected>Selecciona una comuna</option>
              <option value="Concepci√≥n">Concepci√≥n</option>
              <option value="Talcahuano">Talcahuano</option>
              <option value="Chiguayante">Chiguayante</option>
              <option value="Hualp√©n">Hualp√©n</option>
              <option value="San Pedro de la Paz">San Pedro de la Paz</option>
              <option value="Coronel">Coronel</option>
              <option value="Penco">Penco</option>
              <option value="Tom√©">Tom√©</option>
              <option value="Santa Juana">Santa Juana</option>
              <option value="Lota">Lota</option>
            </select>
          </div>
          <div class="mb-3">
            <label for="categoria" class="form-label">Categor√≠a</label>
            <select class="form-select" id="categoria" name="categoria" required>
              <option value="" disabled selected>Selecciona una categor√≠a</option>
              <option value="Comida">Comida</option>
              <option value="Bar">Bar</option>
              <option value="Cafeter√≠a">Cafeter√≠a</option>
              <option value="Cultura">Cultura</option>
              <option value="Tiendas">Tienda local</option>
              <option value="Panoramas">Panoramas</option>
              <option value="M√∫sica">M√∫sica en vivo</option>
              <option value="Mirador">Mirador</option>
              <option value="Dato">Dato oculto</option>
            </select>
          </div>
          <input type="hidden" id="latitude" name="lat">
          <input type="hidden" id="longitude" name="lon">
        </div>
        <div class="modal-footer">
          <button type="submit" class="btn btn-success w-100">Enviar</button>
        </div>
      </form>
    </div>
  </div>
  xw
  <!-- Toast Notification -->
  <div class="toast-container position-fixed end-0 p-3" style="z-index: 9999">
    <div id="successToast" class="toast align-items-center text-bg-success border-0" role="alert" aria-live="assertive" aria-atomic="true">
      <div class="d-flex">
        <div class="toast-body">¬°Gracias por tu recomendaci√≥n! üíõ</div>
        <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast" aria-label="Close"></button>
      </div>
    </div>
  </div>

  <!--scripts-->
</body>
</html>
